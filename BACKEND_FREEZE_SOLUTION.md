# ğŸ”§ åç«¯å‡æ­»é—®é¢˜è§£å†³æ–¹æ¡ˆ

## ğŸš¨ é—®é¢˜åˆ†æ

æ ¹æ®æ‚¨æä¾›çš„æ—¥å¿—ï¼Œé—®é¢˜å‡ºç°åœ¨ï¼š
```
ä»»åŠ¡ b5c995bb-235b-4566-82b9-9f4159e20632: æ‰§è¡Œæ—…è¡Œè§„åˆ’
```

è¿™è¡¨æ˜LangGraphçš„`travel_agents.run_travel_planning()`æ–¹æ³•å¡ä½äº†ï¼Œå¯¼è‡´æ•´ä¸ªåç«¯è¿›å…¥å‡æ­»çŠ¶æ€ã€‚

## âœ… ç«‹å³è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1: é‡å¯åç«¯æœåŠ¡ï¼ˆæ¨èï¼‰

```bash
# ä½¿ç”¨é‡å¯è„šæœ¬
./restart_backend.sh
```

### æ–¹æ¡ˆ2: æ‰‹åŠ¨é‡å¯

```bash
# 1. æ€æ­»åç«¯è¿›ç¨‹
pkill -f api_server.py

# 2. æ£€æŸ¥ç«¯å£
lsof -i :8080

# 3. å¼ºåˆ¶é‡Šæ”¾ç«¯å£ï¼ˆå¦‚æœéœ€è¦ï¼‰
lsof -ti :8080 | xargs kill -9

# 4. é‡æ–°å¯åŠ¨
cd backend
conda activate ai-travel-agents
python api_server.py
```

## ğŸ› ï¸ ç³»ç»Ÿæ”¹è¿›

æˆ‘å·²ç»å¯¹ç³»ç»Ÿè¿›è¡Œäº†ä»¥ä¸‹æ”¹è¿›æ¥é˜²æ­¢å‡æ­»ï¼š

### 1. æ·»åŠ è¶…æ—¶æœºåˆ¶
- LangGraphæ‰§è¡Œè¶…æ—¶ï¼š4åˆ†é’Ÿ
- ä½¿ç”¨çº¿ç¨‹æ± é¿å…é˜»å¡
- è¶…æ—¶åè‡ªåŠ¨åˆ‡æ¢åˆ°ç®€åŒ–ç‰ˆæœ¬

### 2. å¤‡é€‰æ–¹æ¡ˆ
- **ç®€åŒ–æ™ºèƒ½ä½“**: å½“LangGraphå¤±è´¥æ—¶è‡ªåŠ¨ä½¿ç”¨
- **æ¨¡æ‹Ÿæ™ºèƒ½ä½“**: ç”¨äºå¿«é€Ÿæµ‹è¯•

### 3. æ–°å¢APIç«¯ç‚¹

```bash
# ç®€åŒ–ç‰ˆè§„åˆ’ï¼ˆæ¨èç”¨äºæµ‹è¯•ï¼‰
curl -X POST http://localhost:8080/simple-plan \
  -H "Content-Type: application/json" \
  -d '{
    "destination": "åŒ—äº¬",
    "start_date": "2025-08-20",
    "end_date": "2025-08-22",
    "budget_range": "ä¸­ç­‰é¢„ç®—",
    "group_size": 2,
    "interests": ["å†å²"]
  }'

# æ¨¡æ‹Ÿè§„åˆ’ï¼ˆç«‹å³è¿”å›ç»“æœï¼‰
curl -X POST http://localhost:8080/mock-plan \
  -H "Content-Type: application/json" \
  -d '{
    "destination": "ä¸Šæµ·",
    "start_date": "2025-08-20",
    "end_date": "2025-08-22",
    "budget_range": "ä¸­ç­‰é¢„ç®—",
    "group_size": 1,
    "interests": ["æ–‡åŒ–"]
  }'
```

## ğŸ¯ ä½¿ç”¨å»ºè®®

### å½“å‰ä»»åŠ¡å¤„ç†

1. **é‡å¯åç«¯æœåŠ¡**:
   ```bash
   ./restart_backend.sh
   ```

2. **æ£€æŸ¥ä¹‹å‰çš„ä»»åŠ¡**:
   ```bash
   python check_task_status.py b5c995bb-235b-4566-82b9-9f4159e20632
   ```

3. **å¦‚æœä»»åŠ¡ä¸¢å¤±ï¼Œä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬é‡æ–°åˆ›å»º**:
   - è®¿é—®å‰ç«¯é¡µé¢
   - æˆ–ä½¿ç”¨`/simple-plan`ç«¯ç‚¹

### æœªæ¥ä½¿ç”¨ç­–ç•¥

1. **æµ‹è¯•é˜¶æ®µ**: ä½¿ç”¨`/mock-plan`æˆ–`/simple-plan`
2. **ç”Ÿäº§ä½¿ç”¨**: ä½¿ç”¨ä¸»è¦çš„`/plan`ç«¯ç‚¹ï¼ˆå·²æœ‰è¶…æ—¶ä¿æŠ¤ï¼‰
3. **å¤æ‚è§„åˆ’**: ç®€åŒ–è¯·æ±‚å‚æ•°ï¼Œå‡å°‘å…´è¶£çˆ±å¥½æ•°é‡

## ğŸ” é—®é¢˜é¢„é˜²

### 1. ç®€åŒ–è¯·æ±‚
```json
{
  "destination": "åŒ—äº¬",
  "start_date": "2025-08-20",
  "end_date": "2025-08-22",
  "budget_range": "ä¸­ç­‰é¢„ç®—",
  "group_size": 2,
  "interests": ["å†å²"]  // é™åˆ¶1-2ä¸ªå…´è¶£
}
```

### 2. ç›‘æ§æ—¥å¿—
```bash
# å®æ—¶æŸ¥çœ‹åç«¯æ—¥å¿—
cd backend
python api_server.py | tee backend.log
```

### 3. ä½¿ç”¨ä»»åŠ¡ç›‘æ§é¡µé¢
```bash
# å¯åŠ¨ç›‘æ§é¡µé¢
./start_task_monitor.sh
# è®¿é—®: http://localhost:8502
```

## ğŸ“Š ç³»ç»ŸçŠ¶æ€æ£€æŸ¥

### æ£€æŸ¥åç«¯å¥åº·
```bash
curl http://localhost:8080/health
```

### æ£€æŸ¥æ‰€æœ‰ä»»åŠ¡
```bash
curl http://localhost:8080/tasks
```

### æµ‹è¯•åŸºæœ¬åŠŸèƒ½
```bash
curl -X POST http://localhost:8080/mock-plan \
  -H "Content-Type: application/json" \
  -d '{"destination": "æµ‹è¯•", "start_date": "2025-08-20", "end_date": "2025-08-22", "budget_range": "ä¸­ç­‰é¢„ç®—", "group_size": 1, "interests": []}'
```

## ğŸš€ æ¨èæ“ä½œæµç¨‹

### ç«‹å³æ“ä½œï¼š
1. è¿è¡Œ `./restart_backend.sh`
2. ç­‰å¾…åç«¯å®Œå…¨å¯åŠ¨
3. ä½¿ç”¨ `/simple-plan` ç«¯ç‚¹æµ‹è¯•
4. å¦‚æœæˆåŠŸï¼Œå†å°è¯•æ­£å¸¸çš„ `/plan` ç«¯ç‚¹

### é•¿æœŸä½¿ç”¨ï¼š
1. ä¼˜å…ˆä½¿ç”¨ç®€åŒ–ç‰ˆæœ¬è¿›è¡Œæµ‹è¯•
2. å¯¹äºå¤æ‚è§„åˆ’ï¼Œé€æ­¥å¢åŠ å‚æ•°å¤æ‚åº¦
3. å®šæœŸé‡å¯åç«¯æœåŠ¡ä»¥ä¿æŒç¨³å®šæ€§
4. ä½¿ç”¨ä»»åŠ¡ç›‘æ§é¡µé¢è·Ÿè¸ªé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡

## ğŸ’¡ æŠ€æœ¯è¯´æ˜

### å‡æ­»åŸå› 
- LangGraphçš„å¤šæ™ºèƒ½ä½“åä½œå¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹é™·å…¥æ— é™å¾ªç¯
- Google APIè°ƒç”¨å¯èƒ½è¶…æ—¶ä½†æ²¡æœ‰æ­£ç¡®å¤„ç†
- å†…å­˜æ³„æ¼æˆ–èµ„æºç«äº‰

### è§£å†³æœºåˆ¶
- çº¿ç¨‹æ± éš”ç¦»ï¼šé¿å…ä¸»çº¿ç¨‹é˜»å¡
- è¶…æ—¶ä¿æŠ¤ï¼š4åˆ†é’Ÿåè‡ªåŠ¨ç»ˆæ­¢
- å¤‡é€‰æ–¹æ¡ˆï¼šç®€åŒ–æ™ºèƒ½ä½“ä½œä¸ºåå¤‡
- é”™è¯¯æ¢å¤ï¼šè‡ªåŠ¨åˆ‡æ¢åˆ°å¯ç”¨çš„æ–¹æ¡ˆ

ç°åœ¨æ‚¨å¯ä»¥é‡å¯åç«¯å¹¶ç»§ç»­ä½¿ç”¨ç³»ç»Ÿäº†ï¼ğŸ‰
